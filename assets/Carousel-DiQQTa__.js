import{r as a,j as e,H as k,a as N,b as C}from"./index-B4ytVIkP.js";const v=a.memo(({direction:i,onClick:d,fullScreen:t=!1})=>{const r=i==="left"?N:C,l="rounded-full transition-colors cursor-pointer flex items-center justify-center z-[1001]",u=t?"p-4 bg-white/5 hover:bg-white/10 text-white border border-white/10":"p-2 md:p-3 bg-black/20 backdrop-blur-md border border-white/10 text-white hover:bg-white/10";return e.jsx("button",{onClick:f=>{f.stopPropagation(),d()},className:`${l} ${u}`,children:e.jsx(r,{className:t?"w-8 h-8":"w-5 h-5 md:w-6 md:h-6"})})}),j=a.memo(({total:i,current:d,onClick:t,isFullScreen:c=!1})=>e.jsx("div",{className:"flex items-center gap-2 pointer-events-auto",children:Array.from({length:i}).map((r,l)=>e.jsx("button",{onClick:u=>{u.stopPropagation(),t(l)},className:`transition-all duration-300 rounded-full ${c?d===l?"w-8 h-1 bg-white":"w-1.5 h-1.5 bg-white/20 hover:bg-white/40":d===l?"w-6 h-1 bg-slate-800":"w-1 h-1 bg-slate-300 hover:bg-slate-400"}`},l))})),y=({entries:i,currentIndex:d,isFullScreen:t,isFast:c})=>{const r=t?"vw":"%";return e.jsx("div",{className:`flex h-full transition-transform ease-in-out ${c?"duration-0":"duration-700"}`,style:{transform:`translateX(-${d*100}${r})`,width:t?`${i.length*100}vw`:"100%"},children:i.map(([l,u],f)=>e.jsx("div",{className:t?"w-[100vw] h-full flex items-center justify-center p-6 md:p-16":"w-full h-full flex-shrink-0",children:e.jsx("img",{src:u,alt:l,className:t?"max-w-full max-h-[75vh] object-contain rounded-lg shadow-2xl select-none cursor-default":"w-full h-full object-cover select-none",onClick:t?x=>x.stopPropagation():void 0,loading:f===0?"eager":"lazy"})},f))})},E=({images:i={},title:d=""})=>{const[t,c]=a.useState(0),[r,l]=a.useState(!1),[u,f]=a.useState(!1),[x,n]=a.useState(!1),p=a.useMemo(()=>Object.entries(i).map(([s,g])=>[s.trim(),g]),[i]),o=p.length,h=a.useCallback(()=>{c(s=>s===o-1?0:s+1)},[o]),w=a.useCallback(()=>{c(s=>s===0?o-1:s-1)},[o]);a.useEffect(()=>{if(o<=1||r||u)return;const s=setInterval(()=>{n(!1),h()},4e3);return()=>clearInterval(s)},[h,o,r,u]),a.useEffect(()=>{const s=m=>{(m.key==="ArrowRight"||m.key==="ArrowLeft")&&(n(m.repeat),m.key==="ArrowRight"&&h(),m.key==="ArrowLeft"&&w()),m.key==="Escape"&&r&&l(!1)},g=()=>n(!1);return r&&(document.body.style.overflow="hidden",window.addEventListener("keydown",s),window.addEventListener("keyup",g)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",s),window.removeEventListener("keyup",g)}},[r,h,w]);const b=p[t][0];return e.jsxs("article",{className:"flex flex-col w-full m-auto relative group gap-3",children:[e.jsx("h2",{className:"text-left font-bold text-slate-800 tracking-tight",children:d}),e.jsxs("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>{n(!1),l(!0)},className:"w-full aspect-[16/10] md:aspect-video rounded-2xl overflow-hidden relative cursor-zoom-in bg-slate-100 border border-slate-200/50 shadow-sm",children:[e.jsx(y,{entries:p,currentIndex:t,isFullScreen:!1,isFast:x}),o>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute top-1/2 -translate-y-1/2 left-4 z-10",children:e.jsx(v,{direction:"left",onClick:()=>{n(!1),w()}})}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute top-1/2 -translate-y-1/2 right-4 z-10",children:e.jsx(v,{direction:"right",onClick:()=>{n(!1),h()}})})]})]}),e.jsxs("footer",{className:"flex flex-row justify-between items-center px-1",children:[e.jsx("span",{className:"text-slate-600 font-medium text-sm md:text-base truncate max-w-[70%]",children:b}),o>1&&e.jsx(j,{total:o,current:t,onClick:s=>{n(!1),c(s)}})]}),r&&e.jsxs("section",{className:"fixed inset-0 z-[999] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center cursor-zoom-out group",onClick:()=>l(!1),children:[e.jsx("button",{className:"absolute top-6 right-6 p-3 text-white/50 hover:text-white z-[1002] cursor-pointer",children:e.jsx(k,{className:"w-8 h-8"})}),o>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute left-4 md:left-10 top-1/2 -translate-y-1/2 z-[1002]",children:e.jsx(v,{direction:"left",onClick:()=>{n(!1),w()},fullScreen:!0})}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute right-4 md:right-10 top-1/2 -translate-y-1/2 z-[1002]",children:e.jsx(v,{direction:"right",onClick:()=>{n(!1),h()},fullScreen:!0})})]}),e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(y,{entries:p,currentIndex:t,isFullScreen:!0,isFast:x})}),e.jsxs("div",{className:"absolute bottom-5 left-0 right-0 flex flex-col items-center gap-4 px-6 pointer-events-none",children:[e.jsx("p",{className:"text-white text-xl font-light tracking-wide pointer-events-auto",children:b}),o>1&&e.jsx(j,{total:o,current:t,onClick:s=>{n(!1),c(s)},isFullScreen:!0})]})]})]})};export{E as default};
